//Add JSON
	// For description, please go to the readme.md file on Github https://github.com/guillaumesimler/profportfolio/blob/master/README.md
	// the variables in order to prepare the JSON
		
		//Project 1: TTS Polak
var description1 ='TTS Polak, the aluminum foundry of Festool, had been loosing millions since its integration into the TTS group. New large investments only worsen the situation draining considerable cash and management ressources for a none-core business, exhausting 3 managing directors in just 4 years.';
var keyProblems1 ='<li>High resignation of staff and management </li><li>Unsustainable drive towards output with quality far beyond industry standard</li><li>Unprofitable customer mix</li>';
var keySolutions1 ='<li>Simplified organizational structure and pay schemes, clarified decision process to reinforce accountability and front-line initiative</li><li>Put emphasis of quality (new bonus system), advocated sustainability before quantity by rewarding continuous improvement initiative</li><li>Renegotiated customer contracts (price increases, production face-out) incl. automotive Tier1-suppliers whilst pushing for a customer diversification in non-automotive segment</li>';
var output1 ='TTS Polak became cash flow positive after 12 months and reached the break-even after 18 months. This enabled the selling of the company to a strategic investor whilst remaining supplier for the formmer owner.';
var lesson1 = '<li>Importance of local leadership presence</li><li><em>Inter arma enim silent leges</em>, the need of restructuring specific structures and processes </li><li>Cultural differences in payment schemes</li>';
var alt1 = 'A picture of the production site of the TTS Polak';

		//Project 2: Bang & Olufsen
var description2 ='A major Scandinavian manufacturer of exclusive music and television systems, reknown for its iconic design, was looking for a new foundry nearer to its production site in CZ.';
var keyProblems2 ='<li>Unclear underlying customer requirements</li><li>Fear-driven decision process (possible bankruptcy of previous supplier</li><li>High technological requirements with limited knowledge</li>';
var keySolutions2 ='<li>Challenged customer&#39;s requirements at board level to place technological support, quality and availibility before saving</li><li>Potitioned ourselves as partners in explaining the consequences of the impetuous actions, helping the customer in budgeting the costs of such an programm and preparing a fall-back plan</li><li>Set up a dedicated support team for this customer, which meets the customer&#39;s designers for feasability workshops on quarterly basis </li>';
var output2 ='The customer decided to move to Benes a Lat as a single-source supplier not just for aluminum but also for zink and a large part of the plastic parts. The transition process took a 2 year period to ensure a manageable work load and limited one-time expenses. This ensures a high customer satisfaction and multi-million revenue per year at very satisfying margins.';
var lesson2 = '<li>Importance of challenging the customer in the sales process</li><li>Organization of a multi-level sales strategy</li>';
var alt2 = 'A video displaying Benes a Lat&#39;s production capacities, largely in low pressure die casting';

		//Project 3: Sales of TTS Polak
var description3 ='Selling a company is always an exciting project. Selling the company whilst restructuring brings everything to an higher dimension. You can add additional factors, such as a high dependance on delivered piece by the selling company.';
var keyProblems3 ='<li>Different priorities within the selling entity</li><i>Limited corporate ressource allocation</i><li>Necessity of keeping top performer on board</li>';
var keySolutions3 ='<li>Clarified and validated the ranked list of expectations with the supervisory board of the selling company</li><li>Set up an own team of external consultants (lawyers, M&A consultant) and internal ressource under my direct leadership</li><li>Informed the key players early and offered them alternative scenarios</li>';
var output3 ='TTS Polak was sold to a strategic investor to the satisfaction of all parties: the schedule was largely kept, the supply of products was guaranteed, the staff was largely left untouched';
var lesson3 = '<li>Importance of clear priorities</li><li>Avoid the "shell schock": continue with your strategy, as long as it is senseful, it will create value</li>';
var alt3 = 'A picture of one casting cell at TTS Polak'

		//Project 4: MDM
var description4 ='<em>Software is eating the world - M. Andreesen</em>. And software feeds on data, so companies needs to structure their data via a master data management system in order to leverage data as a real corporate asset. <br> In the past having well structured data helped you to save IT costs, now it enables the use of big data, of mass customization, of Internet of the Things... simply of the Future' ;
var keyProblems4 ='<li>Unshared understanding of concepts between departments and legal entity</li><li>Unclear vision about current maturity level</li>';
var keySolutions4 ='<li>Gathered and interviewed key users throughout the corporate organization</li><li>Audited the company following IBM Data Giovernance framework</li>';
var output4 ='The audit showed the need to develop a data steward organization, similar to SW key user. These experienced business users will then discuss, define and document the data and its interpretation and closely monitor the implementation by the IT department and the legal entities.';
var lesson4 = '<li>Data is too important and valuable to be left in the single care of the IT department</li><li>Master Data Management is heavy but healthy process to follow</li><li>You don&#39;t need to start big, but you need to start fast</li>';
var alt4 = 'A presentation video of Festool and its core values';

	//Project 5: Fablab
var description5 ='In today&#39;s world design and production of small scale innovative products are no longer a challenge . Digital production capabilities -3d printing, CNC-machining- allows you to move at previously unknown pace and costs. Furthermore this equipement can be shared with egal-minded in a makerspace or a FabLab. <br>And please be conscious that it is not just for after-work, companies can use it to leverage skill acquisition, employee loyalty and innovation potential';
var keyProblems5 ='<li>blabla1</li><li>blabla2</li><li>blabla3</li>';
var keySolutions5 ='<li>blabla1</li><li>blabla2</li><li>blabla3</li>';
var output5 ='blabla1';
var lesson5 = '<li>blabla1</li><li>blabla2</li><li>blabla3</li>';
var alt5 = 'Illustration of a Fablab, De Waag Society, Amsterdam, picture by Rory Hyde ';


	//Project 6: AVL France
var description6 ='AVL France was the <em>enfant terrible</em> of the AVL group: the budget always looked bright (with a small profit) and then the hope declined forecast after forecast... and finally 1 mio€ equity needed to be injected each year on average. <br>It is easy to blame the finance department. A possible solution was to try to get more clarity with an SAP implementation. And when this failed, there was no other option but restructuring the department.';
var keyProblems6 ='<li>Unclear responsibilities between departments (accounting, order processing, controlling)</li><li>Inability to meet deadlines (monthly closing at months+20days instead of months+5 days</li><li>Lack of recognition by the remaining management team</li>';
var keySolutions6 ='<li>Clarified the job descriptions and expectations, implemented a clear reporting line</li><li>Draw the closing process, identified the gaps and improved the process (e.g. a good estimate in 10 min is better than the precise figure 3 weeks later)(</li><li>Positioned the department as a business partner (moved the team from their offices to the front-lines, asked a lot, offered a business perspective, challenged the views)</li>';
var output6 ='In 2009 AVL France halved its losses. In 2010 AVL France was around break-even. In 2011 it made the first profit in 15 years. <br>The strong collaboration between the service and the finance departments enabled the former to double its revenues to 4 mio€ and moved its margin from disastrous -20% to record-breaking +25%. <br><br> Moreover the finance department become one of the group&#39;s benchmark: monthly closing in 2 days, full-IFRS year-end closing (incl. IAS 11 valuation and documentation) in 6 days, ...';
var lesson6 = '<li>IFRS balancing</li><li>Importance of the strong financial process and knowledge of the main hurdles</li>';
var alt6 = 'An automotive test bed from AVL';

	//Project 7: AVL Europe
var description7 ='AVL Europe was freshly founded as one of three major regions. A regional VP was nominated, business unit managers hired, yet the colleagues had no reporting to monitor the performance of their units. <br>The challenge was to grant a good view for the European structure, without adding additional administrative (unproductive) work for these units.';
var keyProblems7 ='<li>blabla1</li><li>blabla2</li><li>blabla3</li>';
var keySolutions7 ='<li>blabla1</li><li>blabla2</li><li>blabla3</li>';
var output7 ='blabla1';
var lesson7 = '<li>blabla1</li><li>blabla2</li><li>blabla3</li>';
var alt7 = 'A video about AVL&#39;s capacities, especially with the new digital solution';

	//Project 8: AGT
var description8 ='AGT Thermotechnik was my first job after finishing my studies at the WHU and getting my master at Audencia. And what a start! <br>The company was freshly acquired by the TTS group and was not really wanted: it came with the real target and as it was an important supplier of the latter, TTS kept it. However it was a money-losing supplier. <br>The management decided to renew the financial staff by hiring a new financial manager, but the remaining finance team resigned within days.';
var keyProblems8 ='<li>blabla1</li><li>blabla2</li><li>blabla3</li>';
var keySolutions8 ='<li>blabla1</li><li>blabla2</li><li>blabla3</li>';
var output8 ='blabla1';
var lesson8 = '<li></li><li>blabla2</li><li>blabla3</li>';
var alt8 = 'the gas samplers produced by AGT';


	//Project 9: IBM
var description9 ='IBM set up ibm.com in the early 2000s in order to keep DELL at bay. This unit was selling principally via phone and internet, focusing on covering the market, identifying the leads and forwarding them to the suitable sales organization or business partner. <br>The aim of sales operations was to help the sales team in providing analysis, reporting and budgeting. The prevalent idea was that you would need more leads to generate more sales. <br>But why didn&#39;t the revenue rise with an increasing pipeline? Was there an optimum lead generation? Was the unit beyond it?';
var keyProblems9 ='<li>blabla1</li><li>blabla2</li><li>blabla3</li>';
var keySolutions9 ='<li>blabla1</li><li>blabla2</li><li>blabla3</li>';
var output9 ='blabla1';
var lesson9 = '<li>blabla1</li><li>blabla2</li><li>blabla3</li>';
var alt9 = 'An IBM commercial from the time of the project, which suits it well';


	//Project 10: Polak & Automotive
var description10 ='The world of die casting is divided in two main segments: automotive and (non-automotive) industry. Both worlds do have their own requirements. The short version would be that it is easier to get an automotive contract and far harder to earn money and vice versa. Moreover you need to specialized your processes for one or the other. Whilst you can have 30% of automotive business (it offers you a baseline, a good drill) and still aim for the industry business, but having more might be quite unhealthy. <br>TTS Polak had a 60% automotive share in 2011, yet a shareholder and largest customer in the industry segment. So the strategic choise might have been cleared, especially as the automotive business was loss-making. The three main contracts with the automotive supplier needed to be renegotiated.';
var keyProblems10 ='<li>Unclear legal status</li><li>Unknown position of the customers</li>';
var keySolutions10 ='<li>Analyzed each situation with an internal and external team</li><li>Focused first on possible relationship improvements, striked later</li>';
var output10 ='Separate solutions were founded. The major supplier accepted 10 to 15% price increase after seeing the improvements in quality and product deliveries. We found a smooth face-out solution with the smallest customer. Only one customer challenged the decision and claimed 500-600 k€ in damages. The final agreement was 1/15th of this amount and represented the remaining warranty';
var lesson10 = '<li>Don&#39;t be scared by the automotive segment.</li><li>Take your time to negotiate and move step by step!</li>';
var alt10 = 'A mirror holder for a utility car produced at Bal z08 (formaly TTS Polak)';


	// the JSON as such
var projects = {
	'projects':[{
		'tag':[						
			'top', 
			'management'
			],	
		'name': 'Restructuring a foundry',
		'company': 'TTS Polak',
		'companyUrl': 'http://www.polak.cz/uvod/index/lang-en',
		'group': 'Tooltechnic Systems AG & Co. KG (Festool)',
		'groupUrl': 'https://www.festool.com',
		'position': 'managing director',
		'dates': '01/2012 - 12/2013',
		'location': 'Mimon (CZ)',
		'description': description1,
		'keyProblems': keyProblems1,
		'keySolutions': keySolutions1,
		'output': output1,
		'lesson': lesson1,
		'image': 'project1',
		'video': '#',
		'alt': alt1
		},

		{
		'tag':[						
			'top', 
			'sales'
			],	
		'name': 'Winning an iconic global player as a customer',
		'company': 'Bal z08 (formaly TTS Polak)',
		'companyUrl': 'http://www.polak.cz/uvod/index/lang-en',
		'group': 'Benes a Lat as',
		'groupUrl': 'http://www.benesalat.cz/lang-en/general-info/benes-a-lat-company.html',
		'position': 'Group Sales Manager (& managing director)',
		'dates': '01/2012 - 12/2013',
		'location': 'Mimon (CZ)',
		'description': description2,
		'keyProblems': keyProblems2,
		'keySolutions': keySolutions2,
		'output': output2,
		'lesson': lesson2,
		'image': 'http://placehold.it/400x300',
		'video': 'https://www.youtube.com/embed/mTMfBSD0GJY',
		'alt': alt2
		},

		{
		'tag':[						
			'management', 
			'finance'
			],	
		'name': 'Selling a foundry admist its restructuring',
		'company': 'TTS Polak',
		'companyUrl': 'http://www.polak.cz/uvod/index/lang-en',
		'group': 'Tooltechnic Systems AG & Co. KG (Festool)',
		'groupUrl': 'https://www.festool.com',
		'position': 'managing director',
		'dates': '01/2012 - 04/2013',
		'location': 'Mimon (CZ)',
		'description': description3,
		'keyProblems': keyProblems3,
		'keySolutions': keySolutions3,
		'output': output3,
		'lesson': lesson3,
		'image': 'project3',
		'video': '#',
		'alt': alt3
		},

		{
		'tag':[						
			'innovation'
			],	
		'name': 'Design a master data management system',
		'company': 'Festool Group',
		'companyUrl': 'https://www.festool.com',
		'group': 'Tooltechnic Systems AG & Co. KG',
		'groupUrl': 'https://www.festool-group.com/',
		'position': 'Strategic project manager',
		'dates': '07/2014 - 04/2015',
		'location': 'Wendlingen (DE)',
		'description': description4,
		'keyProblems': keyProblems4,
		'keySolutions': keySolutions4,
		'output': output4,
		'lesson': lesson4,
		'image': '#',
		'video': 'https://www.youtube.com/embed/XWvfqUSsNSU',
		'alt': alt4
		},

		{
		'tag':[						
			'innovation'
			],	
		'name': 'Building the foundations for a FabLab',
		'company': 'Festool Group',
		'companyUrl': 'https://www.festool.com',
		'group': 'Tooltechnic Systems AG & Co. KG',
		'groupUrl': 'https://www.festool-group.com/',
		'position': 'Strategic project manager',
		'dates': '07/2014 - 04/2015',
		'location': 'Wendlingen (DE)',
		'description': description5,
		'keyProblems': keyProblems5,
		'keySolutions': keySolutions5,
		'output': output5,
		'lesson': lesson5,
		'image': 'project5',
		'video': '#',
		'alt': alt5
		},

		{
		'tag':[
			'top',					
			'finance',
			'management'
			],	
		'name': 'Restructuring a finance departement',
		'company': 'AVL France',
		'companyUrl': 'https://www.avl.com/avl-france',
		'group': 'AVL List GmbH',
		'groupUrl': 'https://www.avl.com',
		'position': 'Financial Manager (<em>Directeur administratif et financier</em>)',
		'dates': '08/2008 - 12/2011',
		'location': 'Croissy-sur-Seine (FR)',
		'description': description6,
		'keyProblems': keyProblems6,
		'keySolutions': keySolutions6,
		'output': output6,
		'lesson': lesson6,
		'image': 'project6',
		'video': '#',
		'alt': alt6
		},

		{
		'tag':[					
			'finance'
			],	
		'name': 'Building an automated reporting system',
		'company': 'AVL Europe',
		'companyUrl': '#',
		'group': 'AVL List GmbH',
		'groupUrl': 'https://www.avl.com',
		'position': 'Manager Controlling Europe',
		'dates': '02/2008 - 08/2008',
		'location': 'Wiesbaden (DE)',
		'description': description7,
		'keyProblems': keyProblems7,
		'keySolutions': keySolutions7,
		'output': output7,
		'lesson': lesson7,
		'image': '#',
		'video': 'https://www.youtube.com/embed/ezO9FZ76FRA',
		'alt': alt7
		},

		{
		'tag':[					
			'finance'
			],	
		'name': 'Rebuilding a finance department',
		'company': 'AGT Thermotechnik GmbH & Co. KG',
		'companyUrl': 'http://www.agt-thermotechnik.de/',
		'group': 'Tooltechnic Systems AG & Co. KG',
		'groupUrl': 'https://www.festool.com',
		'position': 'Financial Manager',
		'dates': '08/2007 - 01/2008',
		'location': 'Erkelenz (DE)',
		'description': description8,
		'keyProblems': keyProblems8,
		'keySolutions': keySolutions8,
		'output': output8,
		'lesson': lesson8,
		'image': 'project8',
		'video': '#',
		'alt': alt8
		},
		

		{
		'tag':[
			'top',				
			'finance',
			'sales'
			],	
		'name': 'Changing paradigms, Building a Loss Report ',
		'company': 'ibm.com',
		'companyUrl': '#',
		'group': 'IBM',
		'groupUrl': 'http://www.ibm.com',
		'position': 'Sales Operation Analyst (Trainee)',
		'dates': '01/2005 - 06/2006',
		'location': 'Herrenberg (DE)',
		'description': description9,
		'keyProblems': keyProblems9,
		'keySolutions': keySolutions9,
		'output': output9,
		'lesson': lesson9,
		'image': '#',
		'video': 'https://www.youtube.com/embed/cN9QyrzezDI',
		'alt': alt9
		},

		{
		'tag':[						 
			'sales'
			],	
		'name': 'Renegotiating all automative contracts',
		'company': 'TTS Polak s.r.o.',
		'companyUrl': 'http://www.polak.cz/uvod/index/lang-en',
		'group': 'Tooltechnic Systems AG & Co. KG (Festool)',
		'groupUrl': 'https://www.festool.com',
		'position': 'managing director',
		'dates': '01/2012 - 12/2013',
		'location': 'Mimon (CZ)',
		'location': 'Mimon (CZ)',
		'description': description10,
		'keyProblems': keyProblems10,
		'keySolutions': keySolutions10,
		'output': output10,
		'lesson': lesson10,
		'image': 'project10',
		'video': '#',
		'alt': alt10
		},
	]
};


// Builders
	

projects.display = function(_selector) {					

	var data = '%data%';
	var index = 1

	// An if selector will be needed later


	projects.projects.forEach(function(project){   
		if ( projects.selection(_selector, project)) {
			// format the var
			var formatedprojectStart = HTMLprojectStart.replace('%index%', index);
			var formatedprojectText = HTMLprojectText.replace('%index%', index);

			var formatedprojectName = HTMLprojectName.replace(data, project.name);
			var formatedprojectPosition = HTMLprojectPosition.replace(data, project.position);
			var formatedprojectCompany= HTMLprojectCompany.replace(data, project.companyUrl);
			formatedprojectCompany = formatedprojectCompany.replace(data, project.company);
			formatedprojectCompany = formatedprojectCompany.replace(data, project.groupUrl);			
			formatedprojectCompany = formatedprojectCompany.replace(data, project.group);
			formatedprojectCompany = formatedprojectCompany + formatedprojectPosition;
			var formatedprojectDates = HTMLprojectDates.replace(data, project.dates);
			var formatedprojectLocation = HTMLprojectLocation.replace(data, project.location);
			var formatedprojectDescription = HTMLprojectDescription.replace(data, project.description);
			var formatedprojectProblems = HTMLprojectProblems.replace(data, project.keyProblems);
			var formatedprojectSolutions = HTMLprojectSolutions.replace(data, project.keySolutions);
			var formatedprojectOutput = HTMLprojectOutput.replace(data, project.output);
			var formatedprojectLesson = HTMLprojectLesson.replace(data, project.lesson);

			var formatedprojectMedia = HTMLprojectImage.replace(/%data%/g, project.image);
			formatedprojectMedia = formatedprojectMedia.replace('%alt%', project.alt);

			if (project.video !== '#') {
				formatedprojectMedia = HTMLprojectVideo.replace(data, project.video);
				formatedprojectMedia = formatedprojectMedia.replace('%alt%', project.alt);
			}

			// add the elements to the website

			if ((index % 2) !== 0){
				formatedprojectStart = formatedprojectStart.replace(data, "article-ir");
				$('section').append(formatedprojectStart);

				var target = $('#project-' + index);
				target.append(formatedprojectText);
				target.append(formatedprojectMedia);
			} else {
				formatedprojectStart = formatedprojectStart.replace(data, "article-re");
				$('section').append(formatedprojectStart);

				var target = $('#project-' + index);
				target.append(formatedprojectMedia);
				target.append(formatedprojectText);
			};				
			 	

				//add the text block

			target = $('#textblock-' + index);
			target.append(formatedprojectName);
			target.append(formatedprojectDates);
			target.append(formatedprojectLocation);
			target.append(formatedprojectCompany);
			target.append(formatedprojectDescription);
			target.append(formatedprojectProblems);
			target.append(formatedprojectSolutions);
			target.append(formatedprojectOutput);			 	
			target.append(formatedprojectLesson);

			// increment with index
			index += 1;

		}
	
	});
}

	// sub functions

projects.selection = function(_selector, element) {
	var _result = false;

	element.tag.forEach(function(t) {
		if (t === _selector) {
			_result = true;

			return _result;
		}
	})

	return _result;
} 

// Run the builder

projects.display('top');


// Run the selector

$('#button-finance').on('click', function(){
	$('section').children().remove();
	projects.display('finance');
});

$('#button-management').on('click', function(){
	$('section').children().remove();
	projects.display('management');
});


$('#button-sales').on('click', function(){
	$('section').children().remove();
	projects.display('sales');
});

$('#button-innovation').on('click', function(){
	$('section').children().remove();
	projects.display('innovation');
});
